<div class="setting-panel">
  <div class="setting-header">
    <b>设备设置</b>
  </div>
  <div class="setting-body">
    <div class="select-devices">
      <div class="selection">
        <label for="selectInput">音频输入</label>
        <select id="selectInput" class="form-control form-control-sm"
                [(ngModel)]="selectedAudioInput" (ngModelChange)="audioInputChanged()">
          <option [ngValue]="defaultId">默认设备</option>
          <option *ngFor="let input of audioInputs" [ngValue]="input">{{input.label}}</option>
        </select>
      </div>
      <div class="selection">
        <label for="selectOutput">音频输出</label>
        <select id="selectOutput" class="form-control form-control-sm"
                [(ngModel)]="selectedAudioOutput">
          <option [ngValue]="defaultId">默认设备</option>
          <option *ngFor="let output of audioOutputs" [ngValue]="output">{{output.label}}</option>
        </select>
      </div>
      <div class="selection">
        <label for="selectVideoInput">视频设备</label>
        <select id="selectVideoInput" class="form-control form-control-sm"
                [(ngModel)]="selectedVideoInput">
          <option [ngValue]="null">无设备</option>
          <option *ngFor="let input of videoInputs" [ngValue]="input">{{input.label}}</option>
        </select>
      </div>
    </div>
    <div class="test-audio">
      <button class="btn btn-info" (click)="doTestAudio()">{{testAudio ? '停止测试' : '测试音频输入'}}</button>
      <meter high="0.25" max="1" value="0" #instant></meter>
      <audio class="hidden" controls autoplay #audioEcho></audio>
    </div>
  </div>
</div>
<div class="setting-footer">
  <button class="btn btn-primary" (click)="saveSettings()">保存</button>
</div>
